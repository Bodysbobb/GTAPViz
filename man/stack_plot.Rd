% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot.R
\name{stack_plot}
\alias{stack_plot}
\title{Generate Stacked Bar Plot with Auto-Dimensions}
\usage{
stack_plot(
  data,
  plot_var = NULL,
  x_axis_from,
  stack_value_from,
  title_prefix = "",
  title_suffix = "",
  y_axis_title = NULL,
  compare_by_experiment = FALSE,
  separate_figure = FALSE,
  unstack_plot = FALSE,
  output_dir = NULL,
  panel_rows = NULL,
  panel_cols = NULL,
  color_tone = NULL,
  show_total = TRUE,
  description_as_title = TRUE,
  legend_position = "bottom",
  y_limit = NULL,
  width = NULL,
  height = NULL
)
}
\arguments{
\item{data}{A data frame containing the full dataset.}

\item{plot_var}{A data frame with "Variable" and "PlotTitle" columns specifying which variables to plot and their titles.
If NULL, all variables in the data will be plotted with default titles.}

\item{x_axis_from}{Character. Column name to use for x-axis grouping}

\item{stack_value_from}{Character. Column name containing the stack categories}

\item{title_prefix}{Optional character string to prepend to the title}

\item{title_suffix}{Optional character string to append to the title}

\item{y_axis_title}{Character. Y-axis label. If NULL, uses Unit if available.}

\item{compare_by_experiment}{Logical. If TRUE, compares x-axis values within experiments}

\item{separate_figure}{Logical. If TRUE, creates separate figures instead of panels}

\item{unstack_plot}{Logical. If TRUE, displays components side by side instead of stacked and creates separate figures for each x_axis_from value}

\item{output_dir}{Optional character. Directory to save the output plot}

\item{panel_rows}{Optional numeric. Number of panel rows}

\item{panel_cols}{Optional numeric. Number of panel columns}

\item{color_tone}{Optional character. Base color for plot color generation}

\item{legend_position}{Character. Position of the legend: "bottom" (default), "top", "left", "right", or "none"}

\item{y_limit}{Optional numeric vector. Custom y-axis limits (e.g., c(-5, 5))}

\item{width}{Optional numeric. Width of the output plot}

\item{height}{Optional numeric. Height of the output plot}
}
\value{
A list of ggplot objects or a single ggplot object depending on settings
}
\description{
Creates stacked bar plots with automatic total calculations and flexible grouping.
Uses a separate dataframe to specify variables to plot and their titles.
Auto-adjusts dimensions and panel layout if not specified.
}
